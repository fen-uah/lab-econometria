---
title: "Laboratorio 1: Introducci√≥n y Estad√≠stica Descriptiva (versi√≥n pedag√≥gica completa)"
subtitle: "Econometr√≠a FEN‚ÄëUAH ‚Äî Material de Estudio"
format:
  html:
    toc: true
    toc-depth: 3
    smooth-scroll: true
    code-link: true
    number-sections: true
execute:
  echo: true
  message: false
  warning: false
editor: 
  markdown: 
    wrap: 72
---

> **Objetivo.** Integrar teor√≠a y pr√°ctica para: diferenciar tipos de
> datos; construir res√∫menes para datos cualitativos y cuantitativos;
> calcular medidas de **posici√≥n, variaci√≥n y forma** (asimetr√≠a y
> curtosis); y **comunicar hallazgos** con gr√°ficos apropiados.

::: callout-note
**Cobertura seg√∫n el PDF base**

Secciones del PDF identificadas:

-    1.1 Introducci√≥n - Definici√≥n y t√©rminos b√°sicos de la estad√≠stica.

-    1.2 Elementos Fundamentales de Estad√≠stica - Poblaci√≥n, muestra,
    unidad (objeto), variables - Elementos de un problema de estad√≠stica
    descriptiva e inferencial.

-   1.3 Tipos de Datos - Cualitativos (nominales, ordinales) y
    cuantitativos (discretos, continuos).

-    1.4 Estad√≠stica Descriptiva.

-    1.4.1 M√©todos gr√°ficos y num√©ricos para datos cualitativos (tablas,
    barras, Pareto).

-    1.4.2 M√©todos gr√°ficos para datos cuantitativos (histograma,
    densidad, QQ-plot).

-    1.4.3 M√©todos num√©ricos para datos cuantitativos.

-    1.4.4 Medidas de tendencia central (media, mediana, moda).

-    1.4.5 Medidas de variaci√≥n (varianza, desviaci√≥n est√°ndar, IQR,
    rango).

-    1.4.6 Medidas de posici√≥n relativa (z-scores, cuantiles) - 1.4.7
    Medidas de asimetr√≠a (skewness).

-    1.4.8 Medidas de concentraci√≥n (kurtosis).
:::

## 1) Introducci√≥n y t√©rminos b√°sicos

-   **Estad√≠stica descriptiva**: resume, describe y explora datos.\
-   **Estad√≠stica inferencial**: usa muestras para inferir sobre
    poblaciones, con una medida de **confiabilidad**.
-   **Variabilidad**: surge por m√∫ltiples factores (medici√≥n,
    heterogeneidad real, etc.); el an√°lisis estad√≠stico y el m√©todo
    cient√≠fico **modelan** esa variabilidad.

## 2) Elementos fundamentales

-   **Poblaci√≥n**: conjunto (real o conceptual) objetivo de estudio.\
-   **Muestra**: subconjunto observado.\
-   **Unidad** (objeto): persona, transacci√≥n, evento, etc.\
-   **Variable**: caracter√≠stica medida (cualitativa o cuantitativa).

**Problema descriptivo**: poblaci√≥n/muestra, variables,
tablas/gr√°ficos/res√∫menes.\
**Problema inferencial**: poblaci√≥n, variables, muestra, inferencia y
**confiabilidad**.

## 3) Tipos de datos

-   **Cualitativos**: nominal (sin orden), ordinal (con jerarqu√≠a).\
-   **Cuantitativos**: discretos (conteos) y continuos (mediciones).\
    üëâ *La elecci√≥n de herramientas depende del tipo de dato.*

## 4) Datos cualitativos ‚Äî m√©todos gr√°ficos y num√©ricos (1.4.1)

```{r}
library(tidyverse); library(openxlsx); library(qcc)

ej1 <- read.xlsx("labs/data/Ejemplo1.xlsx", sheet = 1, colNames = TRUE)

# Tabla de frecuencias
tab_cual <- ej1 |>
  mutate(pct = 100*Frecuencia/sum(Frecuencia))
tab_cual
```

**Gr√°fico de barras y Pareto**

```{r}
ggplot(tab_cual, aes(x=reorder(Categoria, -Frecuencia), y=Frecuencia)) +
  geom_col() + xlab("Categor√≠a") + ylab("Frecuencia") + ggtitle("Barras")

qcc::pareto.chart(tab_cual$Frecuencia, names=tab_cual$Categoria,
                  main="Pareto por categor√≠a")
```

## 5) Datos cuantitativos ‚Äî m√©todos gr√°ficos (1.4.2)

```{r}
datos <- read.xlsx("labs/data/tabla_ejemplo_R.xlsx", sheet = 1, colNames = TRUE)
x <- datos$Precio   # Cambia por una columna num√©rica disponible
```

**Histograma + densidad + normal te√≥rica**

```{r}
hist(x, breaks = "FD", probability = TRUE, main = "Histograma con densidad", xlab="x")
lines(density(x, na.rm = TRUE))
curve(dnorm(x, mean=mean(x, na.rm=TRUE), sd=sd(x, na.rm=TRUE)), add=TRUE)
```

**QQ-plot**

```{r}
qqnorm(x); qqline(x)
```

## 6) Datos cuantitativos ‚Äî m√©todos num√©ricos (1.4.3‚Äì1.4.5)

```{r}
library(modeest); library(psych); library(moments)

media   <- mean(x, na.rm = TRUE)
mediana <- median(x, na.rm = TRUE)
moda    <- modeest::mlv(x, method="mfv", na.rm = TRUE)
rango   <- range(x, na.rm = TRUE); rango_val <- diff(rango)
var_x   <- var(x, na.rm = TRUE)
sd_x    <- sd(x, na.rm = TRUE)
iqr_x   <- IQR(x, na.rm = TRUE)

tibble(
  Media = media, Mediana = mediana, Moda = moda,
  Rango = rango_val, Varianza = var_x, `Desv.Est` = sd_x, IQR = iqr_x
)
psych::describe(x)
```

**Interpretaci√≥n**\
- Media vs mediana: discrepancias sugieren **asimetr√≠a** u
**outliers**.\
- IQR y rango: dispersi√≥n robusta vs total.\
- `describe()` entrega curtosis y asimetr√≠a preliminar.

## 7) Posici√≥n relativa (1.4.6): z‚Äëscores y cuantiles

```{r}
z_075 <- mean(x, na.rm = TRUE) + qnorm(0.75) * sd(x, na.rm = TRUE)
z_025 <- mean(x, na.rm = TRUE) + qnorm(0.25) * sd(x, na.rm = TRUE)
c(q25 = z_025, q75 = z_075)
```

## 8) Forma de la distribuci√≥n (1.4.7‚Äì1.4.8): asimetr√≠a y curtosis

```{r}
sk <- moments::skewness(x, na.rm = TRUE)
kt <- moments::kurtosis(x, na.rm = TRUE)
c(skewness = sk, kurtosis = kt)
```

**Criterios (del PDF):**\
- Asimetr√≠a (`Œ≥1`): `> 0` ‚Üí derecha; `< 0` ‚Üí izquierda.\
- Curtosis (`Œ≤2`): `> 3` leptoc√∫rtica; `= 3` normal; `< 3` platic√∫rtica.

## 9) Bivariado (opcional)

```{r}
plot(datos$Superficie, datos$Antiguedad,
     main = "Dispersi√≥n", xlab = "Superficie", ylab = "Antig√ºedad")
```

## 10) Checklist de reporte

-   Identifica tipo de dato y justifica elecci√≥n de gr√°ficos.\
-   Reporta **media, mediana, moda, sd, IQR, rango**.\
-   Discute **asimetr√≠a/curtosis** y normalidad (usa histograma +
    QQ-plot).\
-   Especifica **posibles outliers** y su impacto.

## 11) Tarea guiada (para practicar en casa)

1.  Repite secciones 4‚Äì8 con tu variable principal.\
2.  Con 8‚Äì10 l√≠neas, eval√∫a si la distribuci√≥n es cercana a normal y por
    qu√©.\
3.  Incluye histogramas, densidad y QQ-plot, y comenta
    asimetr√≠a/curtosis.

------------------------------------------------------------------------

> **Fuente base**: ‚ÄúCap√≠tulo 1: Introducci√≥n y Estad√≠stica Descriptiva‚Äù
> (3 de agosto de 2023). Contenidos integrados al flujo pr√°ctico con R.
